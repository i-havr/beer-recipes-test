import{r as I,g as L}from"./index-46043c85.js";const F=(e,t)=>e.filter(o=>!t.includes(o.id)),D=e=>{let t;const n=new Set,o=(l,c)=>{const m=typeof l=="function"?l(t):l;if(!Object.is(m,t)){const h=t;t=c??typeof m!="object"?m:Object.assign({},t,m),n.forEach(y=>y(t,h))}},s=()=>t,d={setState:o,getState:s,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{n.clear()}};return t=e(o,s,d),d},z=e=>e?D(e):D;var O={exports:{}},H={},P={exports:{}},j={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E=I;function C(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var U=typeof Object.is=="function"?Object.is:C,k=E.useState,J=E.useEffect,N=E.useLayoutEffect,T=E.useDebugValue;function B(e,t){var n=t(),o=k({inst:{value:n,getSnapshot:t}}),s=o[0].inst,r=o[1];return N(function(){s.value=n,s.getSnapshot=t,R(s)&&r({inst:s})},[e,n,t]),J(function(){return R(s)&&r({inst:s}),e(function(){R(s)&&r({inst:s})})},[e]),T(n),n}function R(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!U(e,n)}catch{return!0}}function M(e,t){return t()}var q=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?M:B;j.useSyncExternalStore=E.useSyncExternalStore!==void 0?E.useSyncExternalStore:q;P.exports=j;var W=P.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=I,G=W;function K(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Q=typeof Object.is=="function"?Object.is:K,X=G.useSyncExternalStore,Y=b.useRef,Z=b.useEffect,V=b.useMemo,ee=b.useDebugValue;H.useSyncExternalStoreWithSelector=function(e,t,n,o,s){var r=Y(null);if(r.current===null){var f={hasValue:!1,value:null};r.current=f}else f=r.current;r=V(function(){function l(v){if(!c){if(c=!0,m=v,v=o(v),s!==void 0&&f.hasValue){var S=f.value;if(s(S,v))return h=S}return h=v}if(S=h,Q(m,v))return S;var u=o(v);return s!==void 0&&s(S,u)?S:(m=v,h=u)}var c=!1,m,h,y=n===void 0?null:n;return[function(){return l(t())},y===null?void 0:function(){return l(y())}]},[t,n,o,s]);var d=X(e,r[0],r[1]);return Z(function(){f.hasValue=!0,f.value=d},[d]),ee(d),d};O.exports=H;var te=O.exports;const re=L(te),{useSyncExternalStoreWithSelector:ne}=re;function oe(e,t=e.getState,n){const o=ne(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return I.useDebugValue(o),o}const _=e=>{const t=typeof e=="function"?z(e):e,n=(o,s)=>oe(t,o,s);return Object.assign(n,t),n},A=e=>e?_(e):_;function x(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var r;const f=l=>l===null?null:JSON.parse(l,t==null?void 0:t.reviver),d=(r=n.getItem(s))!=null?r:null;return d instanceof Promise?d.then(f):f(d)},setItem:(s,r)=>n.setItem(s,JSON.stringify(r,t==null?void 0:t.replacer)),removeItem:s=>n.removeItem(s)}}const w=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(o){return w(o)(n)},catch(o){return this}}}catch(n){return{then(o){return this},catch(o){return w(o)(n)}}}},se=(e,t)=>(n,o,s)=>{let r={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:a=>a,version:0,merge:(a,p)=>({...p,...a}),...t},f=!1;const d=new Set,l=new Set;let c;try{c=r.getStorage()}catch{}if(!c)return e((...a)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),n(...a)},o,s);const m=w(r.serialize),h=()=>{const a=r.partialize({...o()});let p;const i=m({state:a,version:r.version}).then(g=>c.setItem(r.name,g)).catch(g=>{p=g});if(p)throw p;return i},y=s.setState;s.setState=(a,p)=>{y(a,p),h()};const v=e((...a)=>{n(...a),h()},o,s);let S;const u=()=>{var a;if(!c)return;f=!1,d.forEach(i=>i(o()));const p=((a=r.onRehydrateStorage)==null?void 0:a.call(r,o()))||void 0;return w(c.getItem.bind(c))(r.name).then(i=>{if(i)return r.deserialize(i)}).then(i=>{if(i)if(typeof i.version=="number"&&i.version!==r.version){if(r.migrate)return r.migrate(i.state,i.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return i.state}).then(i=>{var g;return S=r.merge(i,(g=o())!=null?g:v),n(S,!0),h()}).then(()=>{p==null||p(S,void 0),f=!0,l.forEach(i=>i(S))}).catch(i=>{p==null||p(void 0,i)})};return s.persist={setOptions:a=>{r={...r,...a},a.getStorage&&(c=a.getStorage())},clearStorage:()=>{c==null||c.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>u(),hasHydrated:()=>f,onHydrate:a=>(d.add(a),()=>{d.delete(a)}),onFinishHydration:a=>(l.add(a),()=>{l.delete(a)})},u(),S||v},ie=(e,t)=>(n,o,s)=>{let r={storage:x(()=>localStorage),partialize:u=>u,version:0,merge:(u,a)=>({...a,...u}),...t},f=!1;const d=new Set,l=new Set;let c=r.storage;if(!c)return e((...u)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),n(...u)},o,s);const m=()=>{const u=r.partialize({...o()});return c.setItem(r.name,{state:u,version:r.version})},h=s.setState;s.setState=(u,a)=>{h(u,a),m()};const y=e((...u)=>{n(...u),m()},o,s);let v;const S=()=>{var u,a;if(!c)return;f=!1,d.forEach(i=>{var g;return i((g=o())!=null?g:y)});const p=((a=r.onRehydrateStorage)==null?void 0:a.call(r,(u=o())!=null?u:y))||void 0;return w(c.getItem.bind(c))(r.name).then(i=>{if(i)if(typeof i.version=="number"&&i.version!==r.version){if(r.migrate)return r.migrate(i.state,i.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return i.state}).then(i=>{var g;return v=r.merge(i,(g=o())!=null?g:y),n(v,!0),m()}).then(()=>{p==null||p(v,void 0),v=o(),f=!0,l.forEach(i=>i(v))}).catch(i=>{p==null||p(void 0,i)})};return s.persist={setOptions:u=>{r={...r,...u},u.storage&&(c=u.storage)},clearStorage:()=>{c==null||c.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>S(),hasHydrated:()=>f,onHydrate:u=>(d.add(u),()=>{d.delete(u)}),onFinishHydration:u=>(l.add(u),()=>{l.delete(u)})},r.skipHydration||S(),v||y},ae=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?se(e,t):ie(e,t),$=ae,ce=A($(e=>({recipes:[],addRecipes:t=>e(n=>({recipes:[...n.recipes,...t]})),refreshRecipes:()=>e(()=>({recipes:[]})),deleteRecipes:t=>e(n=>({recipes:F(n.recipes,t)}))}),{name:"recipes",storage:x(()=>localStorage)})),le=A($(e=>({page:1,updatePage:(t=1)=>e(()=>({page:t}))}),{name:"page",storage:x(()=>localStorage)}));export{le as a,ce as u};
